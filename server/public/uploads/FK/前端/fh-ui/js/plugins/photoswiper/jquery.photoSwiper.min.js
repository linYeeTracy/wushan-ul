// ==================================================
// fancyBox v3.3.5
//
// Licensed GPLv3 for open source use
// or fancyBox Commercial License for commercial use
//
// http://fancyapps.com/fancybox/
// Copyright 2018 fancyApps
//
// ==================================================
!function(t,e,o,i){"use strict";function n(t,e){var i,n,r=[],s=0;t&&t.isDefaultPrevented()||(t.preventDefault(),e=t&&t.data?t.data.options:e||{},i=e.$target||o(t.currentTarget),n=i.attr("data-photoSwiper")||"",n?(r=e.selector?o(e.selector):t.data?t.data.items:[],r=r.length?r.filter('[data-photoSwiper="'+n+'"]'):o('[data-photoSwiper="'+n+'"]'),(s=r.index(i))<0&&(s=0)):r=[i],o.photoSwiper.open(r,e,s))}if(t.console=t.console||{info:function(t){}},o){if(o.fn.photoSwiper)return void console.info("photoBox already initialized");var r={info:[],isReduce:!0,isEnLarge:!0,isBackOrigin:!0,isLeftHand:!0,isRightHand:!0,isFullScreen:!0,isFind:!0,isTrackSource:!0,isFollow:!0,operateExtend:null,loop:!1,gutter:50,keyboard:!0,arrows:!0,infobar:!0,smallBtn:"auto",toolbar:"auto",buttons:["zoom","thumbs","close"],idleTime:1e3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{photoSwiper:!0}}},iframe:{tpl:'<iframe id="photoSwiper-frame{rnd}" name="photoSwiper-frame{rnd}" class="photoSwiper-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},defaultType:"image",animationEffect:!1,animationDuration:366,zoomOpacity:"auto",transitionEffect:!1,transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="photoSwiper-container" role="dialog" tabindex="-1"><div class="photoSwiper-only-bg"><div class="photoSwiper-only-close"></div></div><div class="photoSwiper-bg"></div><div class="photoSwiper-inner"><div class="photoSwiper-infobar"><span data-photoSwiper-index></span>&nbsp;/&nbsp;<span data-photoSwiper-count></span></div><div class="photoSwiper-toolbar">{{buttons}}</div><div class="photoSwiper-navigation">{{arrows}}</div><div class="photoSwiper-stage"></div><div class="photoSwiper-caption"></div></div></div>',spinnerTpl:'<div class="photoSwiper-loading"></div>',errorTpl:'<div class="photoSwiper-error"><p>{{ERROR}}</p></div>',btnTpl:{download:'<a download data-photoSwiper-download class="photoSwiper-button photoSwiper-button--download" title="{{DOWNLOAD}}" href="javascript:;"><svg viewBox="0 0 40 40"><path d="M13,16 L20,23 L27,16 M20,7 L20,23 M10,24 L10,28 L30,28 L30,24" /></svg></a>',zoom:'<button data-photoSwiper-zoom class="photoSwiper-button photoSwiper-button--zoom" title="{{ZOOM}}"><svg viewBox="0 0 40 40"><path d="M18,17 m-8,0 a8,8 0 1,0 16,0 a8,8 0 1,0 -16,0 M24,22 L31,29" /></svg></button>',close:'<button data-photoSwiper-close class="photoSwiper-button photoSwiper-button--close"></button>',smallBtn:'<button data-photoSwiper-close class="photoSwiper-close-small" title="{{CLOSE}}"><svg viewBox="0 0 32 32"><path d="M10,10 L22,22 M22,10 L10,22"></path></svg></button>',arrowLeft:'<a data-photoSwiper-prev class="photoSwiper-button photoSwiper-button--arrow_left" title="{{PREV}}" href="javascript:;"><div class="photoSwiper-left-big"></div></a>',arrowRight:'<a data-photoSwiper-next class="photoSwiper-button photoSwiper-button--arrow_right" title="{{NEXT}}" href="javascript:;"><div class="photoSwiper-right-big"></div></a>',reduce:'<div data-photoSwiper-reduce class="photoSwiper-reduce"></div>',enlarge:'<div data-photoSwiper-enlarge class="photoSwiper-enlarge"></div>',backOrigin:'<div data-photoSwiper-backOrigin class="photoSwiper-backOrigin"></div>',leftHand:'<div data-photoSwiper-leftHand class="photoSwiper-leftHand"></div>',rightHand:'<div data-photoSwiper-rightHand class="photoSwiper-rightHand"></div>',myFullScreen:'<div data-photoSwiper-myFullScreen class="photoSwiper-myFullScreen"></div>',find:'<div data-photoSwiper-find class="photoSwiper-find-wrap"><div class="photoSwiper-find"></div><div class="photoSwiper-find-title">搜索图片</div></div>',trackSource:'<div data-photoSwiper-trackSource class="photoSwiper-trackSource-wrap"><div class="photoSwiper-trackSource"></div><div class="photoSwiper-trackSource-title">溯源</div></div>',follow:'<div data-photoSwiper-follow class="photoSwiper-follow-wrap"><div class="photoSwiper-follow"></div><div class="photoSwiper-follow-title">关注</div></div>'},parentEl:"body",autoFocus:!1,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:4e3},thumbs:{autoStart:!0,hideOnClose:!0,parentEl:".photoSwiper-container",axis:"x"},wheel:!0,onInit:o.noop,beforeLoad:o.noop,afterLoad:o.noop,beforeShow:o.noop,afterShow:o.noop,beforeClose:o.noop,afterClose:o.noop,onActivate:o.noop,onDeactivate:o.noop,beforeSearch:o.noop,afterSearch:o.noop,beforeTrackSource:o.noop,afterTrackSource:o.noop,beforeFollow:o.noop,afterFollow:o.noop,clickContent:function(t,e){return"image"===t.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{idleTime:!1,clickContent:function(t,e){return"image"===t.type&&"toggleControls"},clickSlide:function(t,e){return"image"===t.type?"toggleControls":"close"},dblclickContent:function(t,e){return"image"===t.type&&"zoom"},dblclickSlide:function(t,e){return"image"===t.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schliessen",NEXT:"Weiter",PREV:"Zurück",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es später nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Maßstab"}}},s=o(t),a=o(e),p=0,l=function(t){return t&&t.hasOwnProperty&&t instanceof o},c=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)}}(),h=function(){var t,o=e.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in i)if(void 0!==o.style[t])return i[t];return"transitionend"}(),d=function(t){return t&&t.length&&t[0].offsetHeight},u=function(t,e){var i=o.extend(!0,{},t,e);return o.each(e,function(t,e){o.isArray(e)&&(i[t]=e)}),i},f=function(t,i,n){var r=this;r.opts=u({index:n},o.photoSwiper.defaults),o.isPlainObject(i)&&(r.opts=u(r.opts,i)),r.opts.idleTime=10*r.opts.idleTime,o.photoSwiper.isMobile&&(r.opts=u(r.opts,r.opts.mobile)),r.id=r.opts.id||++p,r.currIndex=parseInt(r.opts.index,10)||0,r.prevIndex=null,r.prevPos=null,r.currPos=0,r.firstRun=!0,r.group=[],r.slides={},r.addContent(t),r.group.length&&(r.$lastFocus=o(e.activeElement).trigger("blur"),r.init())};o.extend(f.prototype,{init:function(){var i,n,r,s=this,a=s.group[s.currIndex],p=a.opts,l=o.photoSwiper.scrollbarWidth;o.photoSwiper.getInstance()||!1===p.hideScrollbar||(o("body").addClass("photoSwiper-active"),!o.photoSwiper.isMobile&&e.body.scrollHeight>t.innerHeight&&(void 0===l&&(i=o('<div style="width:100px;height:100px;overflow:scroll;" />').appendTo("body"),l=o.photoSwiper.scrollbarWidth=i[0].offsetWidth-i[0].clientWidth,i.remove()),o("head").append('<style id="photoSwiper-style-noscroll" type="text/css">.compensate-for-scrollbar { margin-right: '+l+"px; }</style>"),o("body").addClass("compensate-for-scrollbar"))),r="",o.each(p.buttons,function(t,e){r+=p.btnTpl[e]||""}),n=o(s.translate(s,p.baseTpl.replace("{{buttons}}",r).replace("{{arrows}}",p.btnTpl.arrowLeft+p.btnTpl.arrowRight))).attr("id","photoSwiper-container-"+s.id).addClass("photoSwiper-is-hidden").addClass(p.baseClass).data("FancyBox",s).appendTo(p.parentEl),o('<button data-photoSwiper-close class="photoSwiper-button photoSwiper-button--close"></button>').appendTo(n.find(".photoSwiper-inner")),s.$refs={container:n},["bg","inner","infobar","toolbar","stage","caption","navigation"].forEach(function(t){s.$refs[t]=n.find(".photoSwiper-"+t)}),s.trigger("onInit"),s.activate(),s.jumpTo(s.currIndex)},translate:function(t,e){var o=t.opts.i18n[t.opts.lang];return e.replace(/\{\{(\w+)\}\}/g,function(t,e){var i=o[e];return void 0===i?t:i})},addContent:function(t){var e,i=this,n=o.makeArray(t);o.each(n,function(t,e){var n,r,s,a,p,l={},c={};o.isPlainObject(e)?(l=e,c=e.opts||e):"object"===o.type(e)&&o(e).length?(n=o(e),c=n.data()||{},c=o.extend(!0,{},c,c.options),c.$orig=n,l.src=i.opts.src||c.src||n.attr("href"),l.type||l.src||(l.type="inline",l.src=e)):l={type:"html",src:e+""},l.opts=o.extend(!0,{},i.opts,c),o.isArray(c.buttons)&&(l.opts.buttons=c.buttons),r=l.type||l.opts.type,a=l.src||"",!r&&a&&((s=a.match(/\.(mp4|mov|ogv)((\?|#).*)?$/i))?(r="video",l.opts.videoFormat||(l.opts.videoFormat="video/"+("ogv"===s[1]?"ogg":s[1]))):a.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?r="image":a.match(/\.(pdf)((\?|#).*)?$/i)?r="iframe":"#"===a.charAt(0)&&(r="inline")),r?l.type=r:i.trigger("objectNeedsType",l),l.contentType||(l.contentType=o.inArray(l.type,["html","inline","ajax"])>-1?"html":l.type),l.index=i.group.length,"auto"==l.opts.smallBtn&&(l.opts.smallBtn=o.inArray(l.type,["html","inline","ajax"])>-1),"auto"===l.opts.toolbar&&(l.opts.toolbar=!l.opts.smallBtn),l.opts.$trigger&&l.index===i.opts.index&&(l.opts.$thumb=l.opts.$trigger.find("img:first")),l.opts.$thumb&&l.opts.$thumb.length||!l.opts.$orig||(l.opts.$thumb=l.opts.$orig.find("img:first")),"function"===o.type(l.opts.caption)&&(l.opts.caption=l.opts.caption.apply(e,[i,l])),"function"===o.type(i.opts.caption)&&(l.opts.caption=i.opts.caption.apply(e,[i,l])),l.opts.caption instanceof o||(l.opts.caption=void 0===l.opts.caption?"":l.opts.caption+""),"ajax"===l.type&&(p=a.split(/\s+/,2),p.length>1&&(l.src=p.shift(),l.opts.filter=p.shift())),l.opts.modal&&(l.opts=o.extend(!0,l.opts,{infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),i.group.push(l)}),Object.keys(i.slides).length&&(i.updateControls(),(e=i.Thumbs)&&e.isActive&&(e.create(),e.focus()))},addEvents:function(){var i=this;i.removeEvents(),i.$refs.container.on("click.fb-close","[data-photoSwiper-close]",function(t){t.stopPropagation(),t.preventDefault(),i.close(t)}).on("touchstart.fb-prev click.fb-prev","[data-photoSwiper-prev]",function(t){t.stopPropagation(),t.preventDefault(),i.previous()}).on("touchstart.fb-next click.fb-next","[data-photoSwiper-next]",function(t){t.stopPropagation(),t.preventDefault(),i.next()}).on("click.fb","[data-photoSwiper-zoom]",function(t){i[i.isScaledDown()?"scaleToActual":"scaleToFit"]()}).on("click.fb-deduce","[data-photoSwiper-reduce]",function(t){var e=o(this);i.reduce(e)}).on("click.fb-enlarge","[data-photoSwiper-enlarge]",function(t){var e=o(this);i.enlarge(e)}).on("click.fb-backOrigin","[data-photoSwiper-backOrigin]",function(t){var e=o(this);i.backOrigin(e)}).on("click.fb-leftHand","[data-photoSwiper-leftHand]",function(t){var e=o(this);i.leftHand(e)}).on("click.fb-rightHand","[data-photoSwiper-rightHand]",function(t){var e=o(this);i.rightHand(e)}).on("click.fb-myFullScreen","[data-photoSwiper-myFullScreen]",function(t){var e=o(this);i.myFullScreen(e)}).on("click.fb-find","[data-photoSwiper-find]",function(t){var e=o(this);i.find(e)}).on("click.fb-trackSource","[data-photoSwiper-trackSource]",function(t){var e=o(this);i.trackSource(e)}).on("click.fb-follow","[data-photoSwiper-follow]",function(t){var e=o(this);i.follow(e)}),s.on("orientationchange.fb resize.fb",function(e){if(e&&e.originalEvent&&"resize"===e.originalEvent.type){if(i.current.$content.parents(".photoSwiper-container").find(".photoSwiper-only-bg-open").length>0){var n=(o(t).width()-o(".photoSwiper-only-bg img").width())/2,r=(o(t).height()-o(".photoSwiper-only-bg img").height())/2;o(".photoSwiper-only-bg img").css("top",r),o(".photoSwiper-only-bg img").css("left",n)}var s=new Image;s.src=i.current.src;var a=s.width,p=s.height,l=i.current.$content;i.dealPositionSize(l,a,p),c(function(){i.update()})}else i.$refs.stage.hide(),setTimeout(function(){i.$refs.stage.show(),i.update()},o.photoSwiper.isMobile?600:250)}),a.on("focusin.fb",function(t){var i=o.photoSwiper?o.photoSwiper.getInstance():null;i.isClosing||!i.current||!i.current.opts.trapFocus||o(t.target).hasClass("photoSwiper-container")||o(t.target).is(e)||i&&"fixed"!==o(t.target).css("position")&&!i.$refs.container.has(t.target).length&&(t.stopPropagation(),i.focus())}),a.on("keydown.fb",function(t){var e=i.current,n=t.keyCode||t.which;if(e&&e.opts.keyboard&&!(t.ctrlKey||t.altKey||t.shiftKey||o(t.target).is("input")||o(t.target).is("textarea")))return 8===n||27===n?(t.preventDefault(),void i.close(t)):37===n||38===n?(t.preventDefault(),void i.previous()):39===n||40===n?(t.preventDefault(),void i.next()):void i.trigger("afterKeydown",t,n)}),i.group[i.currIndex].opts.idleTime&&(i.idleSecondsCounter=0,a.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(t){i.idleSecondsCounter=0,i.isIdle&&i.showControls(),i.isIdle=!1}),i.idleInterval=t.setInterval(function(){i.idleSecondsCounter++,i.idleSecondsCounter>=i.group[i.currIndex].opts.idleTime&&!i.isDragging?(i.isIdle=!0,i.idleSecondsCounter=0,i.hideControls()):t.attachEvent&&(i.isIdle=!0,i.$refs.container.removeClass("photoSwiper-show-infobar photoSwiper-show-toolbar photoSwiper-show-caption "),i.showControlsHelp())},100))},removeEvents:function(){var e=this;s.off("orientationchange.fb resize.fb"),a.off("focusin.fb keydown.fb .fb-idle"),this.$refs.container.off(".fb-close .fb-prev .fb-next .fb-deduce .fb-enlarge .fb-backOrigin .fb-leftHand .fb-rightHand .fb-myFullScreen .fb-find .fb-trackSource .fb-follow"),e.idleInterval&&(t.clearInterval(e.idleInterval),e.idleInterval=null)},previous:function(t){return this.jumpTo(this.currPos-1,t)},next:function(t){return this.jumpTo(this.currPos+1,t)},getmatrixs:function(t){var e=t.css("-webkit-transform")||t.css("-moz-transform")||t.css("-ms-transform")||t.css("-o-transform")||t.css("transform"),o=e.split("(")[1].split(")")[0].split(","),i=o[0],n=o[1],r=(o[2],o[3],Math.sqrt(i*i+n*n));return[r,Math.round(Math.atan2(n,i)*(180/Math.PI))]},reduce:function(t){var e=t.parents(".photoSwiper-content-wrapper").find(".photo-img-control"),o=this.getmatrixs(e)[0],i=(o-.1).toFixed(2),n=this.getmatrixs(e)[1],r="scale("+i+")rotate("+n+"deg)";i>.1&&(e.css("-moz-transform",r),e.css("-webkit-transform",r),e.css("-o-transform",r),e.css("-ms-transform",r),e.css("transform",r))},enlarge:function(t){var e=t.parents(".photoSwiper-content-wrapper").find(".photo-img-control"),o=this.getmatrixs(e)[0],i=(o+.1).toFixed(2),n=this.getmatrixs(e)[1],r="scale("+i+")rotate("+n+"deg)";i<5&&(e.css("-moz-transform",r),e.css("-webkit-transform",r),e.css("-o-transform",r),e.css("-ms-transform",r),e.css("transform",r))},backOrigin:function(t){var e=t.parents(".photoSwiper-content-wrapper").find(".photo-img-control"),o=e.parent();e.css("left",0),e.css("top",0),e.css("-moz-transform","scale(1) rotate(0)"),e.css("-webkit-transform","scale(1) rotate(0)"),e.css("-o-transform","scale(1) rotate(0)"),e.css("-ms-transform","scale(1) rotate(0)"),e.css("transform","scale(1) rotate(0)"),e.width()<o.width()&&e.css("left",(o.width()-e.width())/2),e.height()<o.height()&&e.css("top",(o.height()-e.height())/2)},leftHand:function(t){var e=t.parents(".photoSwiper-content-wrapper").find(".photo-img-control"),o=this.getmatrixs(e)[0],i=this.getmatrixs(e)[1],i=(i-90)%360,n="scale("+o+")rotate("+i+"deg)";e.css("-moz-transform",n),e.css("-webkit-transform",n),e.css("-o-transform",n),e.css("-ms-transform",n),e.css("transform",n)},rightHand:function(t){var e=t.parents(".photoSwiper-content-wrapper").find(".photo-img-control"),o=this.getmatrixs(e)[0],i=this.getmatrixs(e)[1],i=(i+90)%360,n="scale("+o+")rotate("+i+"deg)";e.css("-moz-transform",n),e.css("-webkit-transform",n),e.css("-o-transform",n),e.css("-ms-transform",n),e.css("transform",n)},myFullScreen:function(e){var i=o(t).width(),n=o(t).height()-40,r=new Image;r.src=o(".photoSwiper-only-bg img").attr("src");var s=r.width,a=r.height,p=s,l=a,c=0;if(s>i||a>n){var h=s/i,d=a/n;h>d?(p=s/h,l=a/h):(p=s/d,l=a/d,c=20)}o(".photoSwiper-only-bg").addClass("photoSwiper-only-bg-open");var u=(i-p)/2,f=(n-l)/2;o(".photoSwiper-only-bg img").css("top",f+c),o(".photoSwiper-only-bg img").css("left",u),o(".photoSwiper-only-bg img").css("width",p),o(".photoSwiper-only-bg img").css("height",l),o(".photoSwiper-only-close").on("click",function(t){o(".photoSwiper-only-bg").removeClass("photoSwiper-only-bg-open"),o(".photoSwiper-only-close").off("click")}),o(".photoSwiper-only-bg").on("click",function(t){o(".photoSwiper-only-bg").removeClass("photoSwiper-only-bg-open")}),o(".photoSwiper-only-bg img").on("click",function(t){t.preventDefault(),t.stopPropagation()})},find:function(t){this.trigger("beforeSearch",t),this.trigger("afterSearch",t)},trackSource:function(t){this.trigger("beforeTrackSource",t),this.trigger("afterTrackSource",t)},follow:function(t){this.trigger("beforeFollow",t),t.hasClass("addFollow")?(t.removeClass("addFollow"),t.find(".photoSwiper-follow-title").html("关注")):(t.addClass("addFollow"),t.find(".photoSwiper-follow-title").html("取消")),this.trigger("afterFollow",t)},getRealNumber:function(t){for(;t<0;)t+=this.group.length;for(;t>=this.group.length;)t-=this.group.length;return t},jumpTo:function(t,e){var i,n,r,s,a,p,l,c=this,h=c.group.length;if(!(c.isDragging||c.isClosing||c.isAnimating&&c.firstRun)){if(t=parseInt(t,10),n=c.current?c.current.opts.loop:c.opts.loop,!n&&t>=h&&(t=h-1),!n&&t<0&&(t=0),!n&&(t<0||t>=h))return!1;if(i=c.firstRun=!Object.keys(c.slides).length,!(h<2&&!i&&c.isDragging)){if(s=c.current,c.prevIndex=c.currIndex,c.prevPos=c.currPos,r=c.createSlide(t),h>1&&((n||r.index>0)&&c.createSlide(t-1),(n||r.index<h-1)&&c.createSlide(t+1)),c.current=r,c.currIndex=r.index,c.currPos=r.pos,c.trigger("beforeShow",i),c.updateControls(),p=o.photoSwiper.getTranslate(r.$slide),r.isMoved=(0!==p.left||0!==p.top)&&!r.$slide.hasClass("photoSwiper-animated"),r.forcedDuration=void 0,o.isNumeric(e)?r.forcedDuration=e:e=r.opts[i?"animationDuration":"transitionDuration"],e=parseInt(e,10),i){r.opts.animationEffect&&e&&c.$refs.container.css("transition-duration",e+"ms"),r.$slide.parents(".photoSwiper-container").find(".photoSwiper-thumbs-ul-wrapper").css("visibility","hidden"),r.$slide.parents(".photoSwiper-inner").css("visibility","hidden"),c.$refs.container.removeClass("photoSwiper-is-hidden"),d(c.$refs.container),c.$refs.container.addClass("photoSwiper-is-open"),d(c.$refs.container),r.$slide.addClass("photoSwiper-slide--previous"),c.loadSlide(r),r.$slide.removeClass("photoSwiper-slide--previous").addClass("photoSwiper-slide--current");var u=r.opts.$orig.parent().find("[data-photoSwiper='"+r.opts.photoswiper+"']:eq("+c.getRealNumber(t)+")"),f=r.opts.$orig.parent().find("[data-photoSwiper]").index(u);return void 0!==f&&void 0!==c.opts.info[f]&&void 0!==c.opts.info[f].title&&r.$slide.find(".photoSwiper-content-title").html(c.opts.info[f].title),void 0!==f&&void 0!==c.opts.info[f]&&void 0!==c.opts.info[f].details?r.$slide.find(".photoSwiper-content-info").html(c.opts.info[f].details):r.$slide.find(".photoSwiper-content-wrapper").addClass("noDetails"),void c.preload("image")}o.each(c.slides,function(t,e){o.photoSwiper.stop(e.$slide)}),r.$slide.removeClass("photoSwiper-slide--next photoSwiper-slide--previous").addClass("photoSwiper-slide--current");var u=r.opts.$orig.parent().find("[data-photoSwiper='"+r.opts.photoswiper+"']:eq("+c.getRealNumber(t)+")"),f=r.opts.$orig.parent().find("[data-photoSwiper]").index(u);if(void 0!==f&&void 0!==c.opts.info[f]&&void 0!==c.opts.info[f].title&&r.$slide.find(".photoSwiper-content-title").html(c.opts.info[f].title),void 0!==f&&void 0!==c.opts.info[f]&&void 0!==c.opts.info[f].details?r.$slide.find(".photoSwiper-content-info").html(c.opts.info[f].details):r.$slide.find(".photoSwiper-content-wrapper").addClass("noDetails"),r.isMoved?(a=Math.round(r.$slide.width()),o.each(c.slides,function(t,i){var n=i.pos-r.pos;o.photoSwiper.animate(i.$slide,{top:0,left:n*a+n*i.opts.gutter},e,function(){i.$slide.removeAttr("style").removeClass("photoSwiper-slide--next photoSwiper-slide--previous"),i.pos===c.currPos&&(r.isMoved=!1,c.complete())})})):c.$refs.stage.children().removeAttr("style"),r.isLoaded)c.revealContent(r);else{c.loadSlide(r);var u=r.opts.$orig.parent().find("[data-photoSwiper='"+r.opts.photoswiper+"']:eq("+c.getRealNumber(t)+")"),f=r.opts.$orig.parent().find("[data-photoSwiper]").index(u);void 0!==f&&void 0!==c.opts.info[f]&&void 0!==c.opts.info[f].title&&r.$slide.find(".photoSwiper-content-title").html(c.opts.info[f].title),void 0!==f&&void 0!==c.opts.info[f]&&void 0!==c.opts.info[f].details?r.$slide.find(".photoSwiper-content-info").html(c.opts.info[f].details):r.$slide.find(".photoSwiper-content-wrapper").addClass("noDetails")}c.preload("image"),s.pos!==r.pos&&(l="photoSwiper-slide--"+(s.pos>r.pos?"next":"previous"),s.$slide.removeClass("photoSwiper-slide--complete photoSwiper-slide--current photoSwiper-slide--next photoSwiper-slide--previous"),s.isComplete=!1,e&&(r.isMoved||r.opts.transitionEffect)&&(r.isMoved?s.$slide.addClass(l):(l="photoSwiper-animated "+l+" photoSwiper-fx-"+r.opts.transitionEffect,o.photoSwiper.animate(s.$slide,l,e,function(){s.$slide.removeClass(l).removeAttr("style")}))))}}},createSlide:function(t){var e,i,n=this;return i=t%n.group.length,i=i<0?n.group.length+i:i,!n.slides[t]&&n.group[i]&&(e=o('<div class="photoSwiper-slide"></div>').appendTo(n.$refs.stage),n.slides[t]=o.extend(!0,{},n.group[i],{pos:t,$slide:e,isLoaded:!1}),n.updateSlide(n.slides[t])),n.slides[t]},scaleToActual:function(t,e,i){var n,r,s,a,p,l=this,c=l.current,h=c.$content,d=o.photoSwiper.getTranslate(c.$slide).width,u=o.photoSwiper.getTranslate(c.$slide).height,f=c.width,g=c.height;!l.isAnimating&&h&&"image"==c.type&&c.isLoaded&&!c.hasError&&(o.photoSwiper.stop(h),l.isAnimating=!0,t=void 0===t?.5*d:t,e=void 0===e?.5*u:e,n=o.photoSwiper.getTranslate(h),n.top-=o.photoSwiper.getTranslate(c.$slide).top,n.left-=o.photoSwiper.getTranslate(c.$slide).left,a=f/n.width,p=g/n.height,r=.5*d-.5*f,s=.5*u-.5*g,f>d&&(r=n.left*a-(t*a-t),r>0&&(r=0),r<d-f&&(r=d-f)),g>u&&(s=n.top*p-(e*p-e),s>0&&(s=0),s<u-g&&(s=u-g)),l.updateCursor(f,g),o.photoSwiper.animate(h,{top:s,left:r,scaleX:a,scaleY:p},i||330,function(){l.isAnimating=!1}),l.SlideShow&&l.SlideShow.isActive&&l.SlideShow.stop())},scaleToFit:function(t){var e,i=this,n=i.current,r=n.$content;!i.isAnimating&&r&&"image"==n.type&&n.isLoaded&&!n.hasError&&(o.photoSwiper.stop(r),i.isAnimating=!0,e=i.getFitPos(n),i.updateCursor(e.width,e.height),o.photoSwiper.animate(r,{top:e.top,left:e.left,scaleX:e.width/r.width(),scaleY:e.height/r.height()},t||330,function(){i.isAnimating=!1}))},getFitPos:function(t){var e,o,i,n,r=this,s=t.$content,a=t.width||t.opts.width,p=t.height||t.opts.height,l={};return!!(t.isLoaded&&s&&s.length)&&(i={top:parseInt(t.$slide.css("paddingTop"),10),right:parseInt(t.$slide.css("paddingRight"),10),bottom:parseInt(t.$slide.css("paddingBottom"),10),left:parseInt(t.$slide.css("paddingLeft"),10)},e=parseInt(r.$refs.stage.width(),10)-(i.left+i.right),o=parseInt(r.$refs.stage.height(),10)-(i.top+i.bottom),a&&p||(a=e,p=o),Math.min(1,e/a,o/p),a=1062,p=563,"image"===t.type?(l.top=Math.floor(.5*(o-p))+i.top,l.left=Math.floor(.5*(e-a))+i.left):"video"===t.contentType&&(n=t.opts.width&&t.opts.height?a/p:t.opts.ratio||16/9,p>a/n?p=a/n:a>p*n&&(a=p*n)),l.width=a,l.height=p,l)},update:function(){var t=this;o.each(t.slides,function(e,o){t.updateSlide(o)})},updateSlide:function(t,e){var i=this,n=t&&t.$content,r=t.width||t.opts.width,s=t.height||t.opts.height;n&&(r||s||"video"===t.contentType)&&!t.hasError&&(o.photoSwiper.stop(n),o.photoSwiper.setTranslate(n,i.getFitPos(t)),t.pos===i.currPos&&(i.isAnimating=!1,i.updateCursor())),t.$slide.trigger("refresh"),i.$refs.toolbar.toggleClass("compensate-for-scrollbar",t.$slide.get(0).scrollHeight>t.$slide.get(0).clientHeight),i.trigger("onUpdate",t)},centerSlide:function(t,e){var i,n,r=this;r.current&&(i=Math.round(t.$slide.width()),n=t.pos-r.current.pos,o.photoSwiper.animate(t.$slide,{top:0,left:n*i+n*t.opts.gutter,opacity:1},void 0===e?0:e,null,!1))},updateCursor:function(t,e){var i,n=this,r=n.current,s=n.$refs.container.removeClass("photoSwiper-is-zoomable photoSwiper-can-zoomIn photoSwiper-can-drag photoSwiper-can-zoomOut");r&&!n.isClosing&&(i=n.isZoomable(),s.toggleClass("photoSwiper-is-zoomable",i),o("[data-photoSwiper-zoom]").prop("disabled",!i),i&&("zoom"===r.opts.clickContent||o.isFunction(r.opts.clickContent)&&"zoom"===r.opts.clickContent(r))?n.isScaledDown(t,e)?s.addClass("photoSwiper-can-zoomIn"):r.opts.touch?s.addClass("photoSwiper-can-drag"):s.addClass("photoSwiper-can-zoomOut"):r.opts.touch&&"video"!==r.contentType&&s.addClass("photoSwiper-can-drag"))},isZoomable:function(){var t,e=this,o=e.current;if(o&&!e.isClosing&&"image"===o.type&&!o.hasError){if(!o.isLoaded)return!0;if(t=e.getFitPos(o),o.width>t.width||o.height>t.height)return!0}return!1},isScaledDown:function(t,e){var i=this,n=!1,r=i.current,s=r.$content;return void 0!==t&&void 0!==e?n=t<r.width&&e<r.height:s&&(n=o.photoSwiper.getTranslate(s),n=n.width<r.width&&n.height<r.height),n},canPan:function(){var t,e=this,o=!1,i=e.current;return"image"===i.type&&(t=i.$content)&&!i.hasError&&(o=e.getFitPos(i),o=Math.abs(t.width()-o.width)>1||Math.abs(t.height()-o.height)>1),o},dealPositionSize:function(e,i,n){var r,s,a=this,p=a.current.opts.$orig.parent().find("[data-photoSwiper='"+a.current.opts.photoswiper+"']:eq("+a.getRealNumber(a.current.index)+")"),l=a.current.opts.$orig.parent().find("[data-photoSwiper]").index(p);if(0===a.opts.info.length||a.opts.info.length-1<l||void 0===a.opts.info[l].details){if(o(t).width()<1440&&i<818&&e.find(".photo-img-control").css("left",(818-i)/2),o(t).width()<1440&&n<370&&e.find(".photo-img-control").css("top",(370-n)/2),o(t).width()>=1440&&i<978&&e.find(".photo-img-control").css("left",(978-i)/2),o(t).width()>=1440&&n<480&&e.find(".photo-img-control").css("top",(480-n)/2),o(t).width()<1440&&(i>818||n>370)){var c=i/818,h=n/370;c>h?(r=i/c,s=n/c):(r=i/h,s=n/h)}if(o(t).width()>=1440&&(i>978||n>480)){var c=i/978,h=n/480;c>h?(r=i/c,s=n/c):(r=i/h,s=n/h)}}else{if(o(t).width()<1440&&i<480&&e.find(".photo-img-control").css("left",(480-i)/2),o(t).width()<1440&&n<370&&e.find(".photo-img-control").css("top",(370-n)/2),o(t).width()>=1440&&i<640&&e.find(".photo-img-control").css("left",(640-i)/2),o(t).width()>=1440&&n<480&&e.find(".photo-img-control").css("top",(480-n)/2),o(t).width()<1440&&(i>480||n>370)){var c=i/480,h=n/370;c>h?(r=i/c,s=n/c):(r=i/h,s=n/h)}if(o(t).width()>=1440&&(i>640||n>480)){var c=i/640,h=n/480;c>h?(r=i/c,s=n/c):(r=i/h,s=n/h)}}e.find("img").css("width",r||i),e.find("img").css("height",s||n),e.find(".photo-img-control").css("width",r||i),e.find(".photo-img-control").css("height",s||n);var d=0,u=0;o(t).width()>=1440?0===a.opts.info.length||a.opts.info.length-1<l||void 0===a.opts.info[l].details?(d=978,u=480):(d=640,u=480):0===a.opts.info.length||a.opts.info.length-1<l||void 0===a.opts.info[l].details?(d=818,u=370):(d=480,u=370),e.find("img").width()<d?e.find(".photo-img-control").css("left",(d-e.find("img").width())/2):e.find(".photo-img-control").css("left",0),e.find("img").height()<u?e.find(".photo-img-control").css("top",(u-e.find("img").height())/2):e.find(".photo-img-control").css("top",0)},loadSlide:function(t){var e,i,n,r=this;if(t.isLoading||t.isLoaded){var s=t.$content.parents(".photoSwiper-container").find(".photoSwiper-thumbs-ul-wrapper .photoSwiper-thumbs-active").css("background-image").replace("url(","").replace(")","").replace(/\"/g,"");o(".photoSwiper-only-bg").find("img").attr("src",s);var a=new Image;a.src=r.current.src;var p=a.width,l=a.height,c=r.current.$content;return void r.dealPositionSize(c,p,l)}switch(t.isLoading=!0,r.trigger("beforeLoad",t),e=t.type,i=t.$slide,i.off("refresh").trigger("onReset").addClass(t.opts.slideClass),e){case"image":r.setImage(t);break;case"iframe":r.setIframe(t);break;case"html":r.setContent(t,t.src||t.content);break;case"video":r.setContent(t,'<video class="photoSwiper-video" controls controlsList="nodownload"><source src="'+t.src+'" type="'+t.opts.videoFormat+"\">Your browser doesn't support HTML5 video</video");break;case"inline":o(t.src).length?r.setContent(t,o(t.src)):r.setError(t);break;case"ajax":r.showLoading(t),n=o.ajax(o.extend({},t.opts.ajax.settings,{url:t.src,success:function(e,o){"success"===o&&r.setContent(t,e)},error:function(e,o){e&&"abort"!==o&&r.setError(t)}})),i.one("onReset",function(){n.abort()});break;default:r.setError(t)}return!0},setImage:function(e){var i,n,r,s,a,p=this,l=e.opts.srcset||e.opts.image.srcset;if(e.timouts=setTimeout(function(){var t=e.$image;!e.isLoading||t&&t[0].complete||e.hasError||p.showLoading(e)},350),l){s=t.devicePixelRatio||1,a=t.innerWidth*s,r=l.split(",").map(function(t){var e={};return t.trim().split(/\s+/).forEach(function(t,o){var i=parseInt(t.substring(0,t.length-1),10);if(0===o)return e.url=t;i&&(e.value=i,e.postfix=t[t.length-1])}),e}),r.sort(function(t,e){return t.value-e.value});for(var c=0;c<r.length;c++){var h=r[c];if("w"===h.postfix&&h.value>=a||"x"===h.postfix&&h.value>=s){n=h;break}}!n&&r.length&&(n=r[r.length-1]),n&&(e.src=n.url,e.width&&e.height&&"w"==n.postfix&&(e.height=e.width/e.height*n.value,e.width=n.value),e.opts.srcset=l)}e.$content=o('<div class="photoSwiper-content"></div>').addClass("photoSwiper-is-hidden").appendTo(e.$slide.addClass("photoSwiper-slide--image")),e.$content.wrap('<div class="photoSwiper-content-wrapper"></div>'),o('<div class="photoSwiper-content-title"></div>').appendTo(e.$content.parent(".photoSwiper-content-wrapper")),o('<div class="photoSwiper-content-info"></div>').appendTo(e.$content.parent(".photoSwiper-content-wrapper"));var d=o('<div class="photoSwiper-content-operator-left"></div>'),u=o('<div class="photoSwiper-content-operator-right"></div>');if(null!==p.opts.operateExtend&&o(p.opts.operateExtend).appendTo(u),!0===p.opts.isReduce&&o(p.opts.btnTpl.reduce).appendTo(d),!0===p.opts.isEnLarge&&o(p.opts.btnTpl.enlarge).appendTo(d),!0===p.opts.isBackOrigin&&o(p.opts.btnTpl.backOrigin).appendTo(d),!0===p.opts.isLeftHand&&o(p.opts.btnTpl.leftHand).appendTo(d),!0===p.opts.isRightHand&&o(p.opts.btnTpl.rightHand).appendTo(d),!0===p.opts.isFullScreen&&o(p.opts.btnTpl.myFullScreen).appendTo(d),!0===p.opts.isFind&&o(p.opts.btnTpl.find).appendTo(u),!0===p.opts.isTrackSource&&o(p.opts.btnTpl.trackSource).appendTo(u),!0===p.opts.isFollow&&o(p.opts.btnTpl.follow).appendTo(u),o('<div class="photoSwiper-content-operator"></div>').appendTo(e.$content.parent(".photoSwiper-content-wrapper")),d.appendTo(e.$content.parent(".photoSwiper-content-wrapper").find(".photoSwiper-content-operator")),u.appendTo(e.$content.parent(".photoSwiper-content-wrapper").find(".photoSwiper-content-operator")),i=e.opts.thumb||!(!e.opts.$thumb||!e.opts.$thumb.length)&&e.opts.$thumb.attr("src"),!1!==e.opts.preload&&e.opts.width&&e.opts.height&&i){e.width=e.opts.width,e.height=e.opts.height,e.$ghost=o("<img src='"+p.current.src+"' style='visibility: hidden;'/>").one("error",function(){o(this).remove(),e.$ghost=null}).one("load",function(){p.afterLoad(e)}).addClass("photoSwiper-image").appendTo(e.$content).css({"background-image":"url('"+i+"')"}),o(".photoSwiper-only-bg").html(o("<div class='photoSwiper-only-close'></div><img src='"+p.current.src+"'/>")),e.$content.find("img").wrap('<div id="photo-img-control" class="photo-img-control"></div>');var f=new Image;f.src=p.current.src;var g=f.width,w=f.height,m=p.current.$content;p.dealPositionSize(m,g,w)}p.setBigImage(e);var S=e.$content.parent(".photoSwiper-content-wrapper").find("#photo-img-control")[0];S.onmousedown=function(t){
var e=t.clientX-S.offsetLeft,o=t.clientY-S.offsetTop;S.onmousemove=function(t){S.style.left=t.clientX-e+"px",S.style.top=t.clientY-o+"px"},S.onmouseup=function(){S.onmousemove=null,S.onmouseup=null}}},getPath:function(){var t=e.currentScript?e.currentScript.src:function(){for(var t,o=e.scripts,i=o.length-1,n=i;n>0;n--)if("interactive"===o[n].readyState){t=o[n].src;break}return t||o[i].src}();return t.substring(0,t.lastIndexOf("/")+1)}(),setBigImage:function(t){var e=this,i=o("<img  style='visibility: hidden;'/>");t.$image=i.one("error",function(){}).one("load",function(){var o;t.$ghost||(e.resolveImageSlideSize(t,this.naturalWidth,this.naturalHeight),e.afterLoad(t)),t.timouts&&(clearTimeout(t.timouts),t.timouts=null),e.isClosing||(t.opts.srcset&&(o=t.opts.sizes,o&&"auto"!==o||(o=(t.width/t.height>1&&s.width()/s.height()>1?"100":Math.round(t.width/t.height*100))+"vw"),i.attr("sizes",o).attr("srcset",t.opts.srcset)),t.$ghost&&setTimeout(function(){t.$ghost&&!e.isClosing&&t.$ghost.hide()},Math.min(300,Math.max(1e3,t.height/1600))),e.hideLoading(t))}).addClass("photoSwiper-image").attr("src",t.src).css({"background-image":"url('"+t.src+"')"}).appendTo(t.$content),o(".photoSwiper-only-bg").html(o("<div class='photoSwiper-only-close'></div><img src='"+e.current.src+"' />")),t.$content.find("img").wrap('<div id="photo-img-control" class="photo-img-control"></div>');var n=new Image;n.src=e.current.src;var r=n.width,a=n.height,p=e.current.$content;e.dealPositionSize(p,r,a),(i[0].complete||"complete"==i[0].readyState)&&i[0].naturalWidth&&i[0].naturalHeight?i.trigger("load"):i[0].error&&i.trigger("error")},resolveImageSlideSize:function(t,e,o){var i=parseInt(t.opts.width,10),n=parseInt(t.opts.height,10);t.width=e,t.height=o,i>0&&(t.width=i,t.height=Math.floor(i*o/e)),n>0&&(t.width=Math.floor(n*e/o),t.height=n)},setIframe:function(t){var e,i=this,n=t.opts.iframe,r=t.$slide;t.$content=o('<div class="photoSwiper-content'+(n.preload?" photoSwiper-is-hidden":"")+'"></div>').css(n.css).appendTo(r),r.addClass("photoSwiper-slide--"+t.contentType),t.$iframe=e=o(n.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(n.attr).appendTo(t.$content),n.preload?(i.showLoading(t),e.on("load.fb error.fb",function(e){this.isReady=1,t.$slide.trigger("refresh"),i.afterLoad(t)}),r.on("refresh.fb",function(){var o,i,r=t.$content,s=n.css.width,a=n.css.height;if(1===e[0].isReady){try{o=e.contents(),i=o.find("body")}catch(t){}i&&i.length&&i.children().length&&(r.css({width:"",height:""}),void 0===s&&(s=Math.ceil(Math.max(i[0].clientWidth,i.outerWidth(!0)))),s&&r.width(s),void 0===a&&(a=Math.ceil(Math.max(i[0].clientHeight,i.outerHeight(!0)))),a&&r.height(a)),r.removeClass("photoSwiper-is-hidden")}})):this.afterLoad(t),e.attr("src",t.src),r.one("onReset",function(){try{o(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(t){}o(this).off("refresh.fb").empty(),t.isLoaded=!1})},setContent:function(t,e){var i=this;i.isClosing||(i.hideLoading(t),t.$content&&o.photoSwiper.stop(t.$content),t.$slide.empty(),l(e)&&e.parent().length?(e.parent().parent(".photoSwiper-slide--inline").trigger("onReset"),t.$placeholder=o("<div>").hide().insertAfter(e),e.css("display","inline-block")):t.hasError||("string"===o.type(e)&&(e=o("<div>").append(o.trim(e)).contents(),3===e[0].nodeType&&(e=o("<div>").html(e))),t.opts.filter&&(e=o("<div>").html(e).find(t.opts.filter))),t.$slide.one("onReset",function(){o(this).find("video,audio").trigger("pause"),t.$placeholder&&(t.$placeholder.after(e.hide()).remove(),t.$placeholder=null),t.$smallBtn&&(t.$smallBtn.remove(),t.$smallBtn=null),t.hasError||(o(this).empty(),t.isLoaded=!1)}),o(e).appendTo(t.$slide),o(e).is("video,audio")&&(o(e).addClass("photoSwiper-video"),o(e).wrap("<div></div>"),t.contentType="video",t.opts.width=t.opts.width||o(e).attr("width"),t.opts.height=t.opts.height||o(e).attr("height")),t.$content=t.$slide.children().filter("div,form,main,video,audio").first().addClass("photoSwiper-content"),t.$slide.addClass("photoSwiper-slide--"+t.contentType),this.afterLoad(t))},setError:function(t){t.hasError=!0,t.$slide.trigger("onReset").removeClass("photoSwiper-slide--"+t.contentType).addClass("photoSwiper-slide--error"),t.contentType="html",this.setContent(t,this.translate(t,t.opts.errorTpl)),t.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(t){var e=this;(t=t||e.current)&&!t.$spinner&&(t.$spinner=o(e.translate(e,e.opts.spinnerTpl)).appendTo(t.$slide))},hideLoading:function(t){var e=this;(t=t||e.current)&&t.$spinner&&(t.$spinner.remove(),delete t.$spinner)},afterLoad:function(t){var e=this;e.isClosing||(t.isLoading=!1,t.isLoaded=!0,e.trigger("afterLoad",t),e.hideLoading(t),t.pos===e.currPos&&e.updateCursor(),!t.opts.smallBtn||t.$smallBtn&&t.$smallBtn.length||(t.$smallBtn=o(e.translate(t,t.opts.btnTpl.smallBtn)).prependTo(t.$content)),t.opts.protect&&t.$content&&!t.hasError&&(t.$content.on("contextmenu.fb",function(t){return 2==t.button&&t.preventDefault(),!0}),"image"===t.type&&o('<div class="photoSwiper-spaceball"></div>').appendTo(t.$content)),e.revealContent(t))},revealContent:function(t){var e,i,n,r,s=this,a=t.$slide,p=!1,l=!1;return e=t.opts[s.firstRun?"animationEffect":"transitionEffect"],n=t.opts[s.firstRun?"animationDuration":"transitionDuration"],n=parseInt(void 0===t.forcedDuration?n:t.forcedDuration,10),t.pos===s.currPos&&(t.isComplete?e=!1:s.isAnimating=!0),!t.isMoved&&t.pos===s.currPos&&n||(e=!1),"zoom"===e&&(t.pos===s.currPos&&n&&"image"===t.type&&!t.hasError&&(l=s.getThumbPos(t))?p=s.getFitPos(t):e="fade"),"zoom"===e?(p.scaleX=p.width/l.width,p.scaleY=p.height/l.height,r=t.opts.zoomOpacity,"auto"==r&&(r=Math.abs(t.width/t.height-l.width/l.height)>.1),r&&(l.opacity=.1,p.opacity=1),o.photoSwiper.setTranslate(t.$content.removeClass("photoSwiper-is-hidden"),l),d(t.$content),void o.photoSwiper.animate(t.$content,p,n,function(){s.isAnimating=!1,s.complete()})):(s.updateSlide(t),e?(o.photoSwiper.stop(a),i="photoSwiper-animated photoSwiper-slide--"+(t.pos>=s.prevPos?"next":"previous")+" photoSwiper-fx-"+e,a.removeAttr("style").removeClass("photoSwiper-slide--current photoSwiper-slide--next photoSwiper-slide--previous").addClass(i),t.$content.removeClass("photoSwiper-is-hidden"),d(a),void o.photoSwiper.animate(a,"photoSwiper-slide--current",n,function(e){a.removeClass(i).removeAttr("style"),t.pos===s.currPos&&s.complete()},!0)):(d(a),t.$content.removeClass("photoSwiper-is-hidden"),void(t.pos===s.currPos&&s.complete())))},getThumbPos:function(i){var n,r=this,s=!1,a=i.opts.$thumb,p=a&&a.length&&a[0].ownerDocument===e?a.offset():0;return p&&function(e){for(var i=e[0],n=i.getBoundingClientRect(),r=[];null!==i.parentElement;)"hidden"!==o(i.parentElement).css("overflow")&&"auto"!==o(i.parentElement).css("overflow")||r.push(i.parentElement.getBoundingClientRect()),i=i.parentElement;return r.every(function(t){var e=Math.min(n.right,t.right)-Math.max(n.left,t.left),o=Math.min(n.bottom,t.bottom)-Math.max(n.top,t.top);return e>0&&o>0})&&n.bottom>0&&n.right>0&&n.left<o(t).width()&&n.top<o(t).height()}(a)&&(n=r.$refs.stage.offset(),s={top:p.top-n.top+parseFloat(a.css("border-top-width")||0),left:p.left-n.left+parseFloat(a.css("border-left-width")||0),width:a.width(),height:a.height(),scaleX:1,scaleY:1}),s},complete:function(){var t=this,i=t.current,n={};!i.isMoved&&i.isLoaded&&(i.isComplete||(i.isComplete=!0,i.$slide.siblings().trigger("onReset"),t.preload("inline"),d(i.$slide),i.$slide.addClass("photoSwiper-slide--complete"),o.each(t.slides,function(e,i){i.pos>=t.currPos-1&&i.pos<=t.currPos+1?n[i.pos]=i:i&&(o.photoSwiper.stop(i.$slide),i.$slide.off().remove())}),t.slides=n),t.isAnimating=!1,t.updateCursor(),t.trigger("afterShow"),i.$slide.find("video,audio").filter(":visible:first").trigger("play"),(o(e.activeElement).is("[disabled]")||i.opts.autoFocus&&"image"!=i.type&&"iframe"!==i.type)&&t.focus())},preload:function(t){var e=this,o=e.slides[e.currPos+1],i=e.slides[e.currPos-1];o&&o.type===t&&e.loadSlide(o),i&&i.type===t&&e.loadSlide(i)},focus:function(){var t,e=this.current;this.isClosing||e&&e.isComplete&&e.$content&&(t=e.$content.find("input[autofocus]:enabled:visible:first"),t.length||(t=e.$content.find("button,:input,[tabindex],a").filter(":enabled:visible:first")),t=t&&t.length?t:e.$content,t.trigger("focus"))},activate:function(){var t=this;o(".photoSwiper-container").each(function(){var e=o(this).data("FancyBox");e&&e.id!==t.id&&!e.isClosing&&(e.trigger("onDeactivate"),e.removeEvents(),e.isVisible=!1)}),t.isVisible=!0,(t.current||t.isIdle)&&(t.update(),t.updateControls()),t.trigger("onActivate"),t.addEvents()},close:function(t,e){var i,n,r,s,a,p,l,u=this,f=u.current,g=function(){u.cleanUp(t)};return!u.isClosing&&(u.isClosing=!0,!1===u.trigger("beforeClose",t)?(u.isClosing=!1,c(function(){u.update()}),!1):(u.removeEvents(),f.timouts&&clearTimeout(f.timouts),r=f.$content,i=f.opts.animationEffect,n=o.isNumeric(e)?e:i?f.opts.animationDuration:0,f.$slide.off(h).removeClass("photoSwiper-slide--complete photoSwiper-slide--next photoSwiper-slide--previous photoSwiper-animated"),f.$slide.siblings().trigger("onReset").remove(),n&&u.$refs.container.removeClass("photoSwiper-is-open").addClass("photoSwiper-is-closing"),u.hideLoading(f),u.hideControls(),u.updateCursor(),"zoom"!==i||!0!==t&&r&&n&&"image"===f.type&&!f.hasError&&(l=u.getThumbPos(f))||(i="fade"),"zoom"===i?(o.photoSwiper.stop(r),s=o.photoSwiper.getTranslate(r),p={top:s.top,left:s.left,scaleX:s.width/l.width,scaleY:s.height/l.height,width:l.width,height:l.height},a=f.opts.zoomOpacity,"auto"==a&&(a=Math.abs(f.width/f.height-l.width/l.height)>.1),a&&(l.opacity=0),o.photoSwiper.setTranslate(r,p),d(r),o.photoSwiper.animate(r,l,n,g),!0):(i&&n?!0===t?setTimeout(g,n):o.photoSwiper.animate(f.$slide.removeClass("photoSwiper-slide--current"),"photoSwiper-animated photoSwiper-slide--previous photoSwiper-fx-"+i,n,g):g(),!0)))},cleanUp:function(t){var e,i=this,n=o("body");i.current.$slide.trigger("onReset"),i.$refs.container.empty().remove(),i.trigger("afterClose",t),i.$lastFocus&&i.current.opts.backFocus&&i.$lastFocus.trigger("focus"),i.current=null,e=o.photoSwiper.getInstance(),e?e.activate():(n.removeClass("photoSwiper-active compensate-for-scrollbar"),o("#photoSwiper-style-noscroll").remove())},trigger:function(t,e){var i,n=Array.prototype.slice.call(arguments,1),r=this,s=e&&e.opts?e:r.current;if(s?n.unshift(s):s=r,n.unshift(r),o.isFunction(s.opts[t])&&(i=s.opts[t].apply(s,n)),!1===i)return i;"afterClose"!==t&&r.$refs?r.$refs.container.trigger(t+".fb",n):a.trigger(t+".fb",n)},updateControls:function(t){var e=this,o=e.current,i=o.index,n=o.opts.caption,r=e.$refs.container,s=e.$refs.caption;o.$slide.trigger("refresh"),e.$caption=n&&n.length?s.html(n):null,e.isHiddenControls||e.isIdle||e.showControls(),r.find("[data-photoSwiper-count]").html(e.group.length),r.find("[data-photoSwiper-index]").html(i+1),r.find("[data-photoSwiper-prev]").toggleClass("disabled",!o.opts.loop&&i<=0),r.find("[data-photoSwiper-next]").toggleClass("disabled",!o.opts.loop&&i>=e.group.length-1),r.find(".photoSwiper-thumbs-left").toggleClass("disabled",!o.opts.loop&&i<=0),r.find(".photoSwiper-thumbs-right").toggleClass("disabled",!o.opts.loop&&i>=e.group.length-1),"image"===o.type?r.find("[data-photoSwiper-zoom]").show().end().find("[data-photoSwiper-download]").attr("href",o.opts.image.src||o.src).show():o.opts.toolbar&&r.find("[data-photoSwiper-download],[data-photoSwiper-zoom]").hide()},hideControls:function(){this.isHiddenControls=!0,this.$refs.container.removeClass("photoSwiper-show-infobar photoSwiper-show-toolbar photoSwiper-show-caption photoSwiper-show-nav")},showControls:function(){var t=this,e=t.current?t.current.opts:t.opts,o=t.$refs.container;t.isHiddenControls=!1,t.idleSecondsCounter=0,o.toggleClass("photoSwiper-show-toolbar",!(!e.toolbar||!e.buttons)).toggleClass("photoSwiper-show-infobar",!!(e.infobar&&t.group.length>1)).toggleClass("photoSwiper-show-nav",!!(e.arrows&&t.group.length>1)).toggleClass("photoSwiper-is-modal",!!e.modal),t.$caption?o.addClass("photoSwiper-show-caption "):o.removeClass("photoSwiper-show-caption")},showControlsHelp:function(){var t=this,e=t.current?t.current.opts:t.opts,o=t.$refs.container;o.toggleClass("photoSwiper-show-toolbar",!(!e.toolbar||!e.buttons)).toggleClass("photoSwiper-show-infobar",!!(e.infobar&&t.group.length>1)).toggleClass("photoSwiper-is-modal",!!e.modal),t.$caption?o.addClass("photoSwiper-show-caption "):o.removeClass("photoSwiper-show-caption")},toggleControls:function(){this.isHiddenControls?this.showControls():this.hideControls()}}),o.photoSwiper={version:"{photoSwiper-version}",defaults:r,getInstance:function(t){var e=o('.photoSwiper-container:not(".photoSwiper-is-closing"):last').data("FancyBox"),i=Array.prototype.slice.call(arguments,1);return e instanceof f&&("string"===o.type(t)?e[t].apply(e,i):"function"===o.type(t)&&t.apply(e,i),e)},open:function(t,e,o){return new f(t,e,o)},close:function(t){var e=this.getInstance();e&&(e.close(),!0===t&&this.close())},destroy:function(){this.close(!0),a.add("body").off("click.fb-start","**")},isMobile:void 0!==e.createTouch&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:function(){var o=e.createElement("div");return t.getComputedStyle&&t.getComputedStyle(o)&&t.getComputedStyle(o).getPropertyValue("transform")&&!(e.documentMode&&e.documentMode<11)}(),getTranslate:function(t){var e;return!(!t||!t.length)&&(e=t[0].getBoundingClientRect(),{top:e.top||0,left:e.left||0,width:e.width,height:e.height,opacity:parseFloat(t.css("opacity"))})},setTranslate:function(e,i){var n="",r="",s=0,a={};if(e&&i){void 0===i.left&&void 0===i.top||(n=(void 0===i.left?e.position().left:i.left)+"px, "+(void 0===i.top?e.position().top:i.top)+"px",s=void 0===i.left?e.position().left:i.left,r=s+"px",this.use3d?(n="translate3d("+n+", 0px)",r="translate3d("+r+")"):(n="translate("+n+")",r="translate("+r+")")),void 0!==i.opacity&&(a.opacity=i.opacity),void 0!==i.width&&(a.width="684px"),void 0!==i.height&&(a.height="514px");var p=e.parents(".photoSwiper-inner");if(o(t).width()<1440){s=(o(t).width()-852)/2,r=s+"px";var l=s-279+"px";e.parents(".photoSwiper-container").find(".photoSwiper-thumbs-ul-wrapper").css({left:l,width:a.width,top:(o(t).height()-552)/2+410+20+"px"}),e.parent(".photoSwiper-content-wrapper").css({left:r,top:(o(t).height()-552)/2+"px"}),p.css({height:410+(o(t).height()-552)/2+"px"}),p.find(".photoSwiper-left-big").css({left:s-62+"px"}),p.find(".photoSwiper-right-big").css({right:o(t).width()-(s-0+858+62)+"px"})}else{r=s+"px";var l=s-279+"px";e.parents(".photoSwiper-container").find(".photoSwiper-thumbs-ul-wrapper").css({left:l,width:a.width,top:(o(t).height()-700)/2+520+20+"px"}),e.parent(".photoSwiper-content-wrapper").css({left:r,top:(o(t).height()-700)/2+"px"}),p.css({height:520+(o(t).height()-700)/2+"px"}),p.find(".photoSwiper-left-big").css({left:s-62+"px"}),p.find(".photoSwiper-right-big").css({right:o(t).width()-(s-0+1018+62)+"px"})}return p.css("visibility","visible"),p.parents(".photoSwiper-container").find(".photoSwiper-thumbs-ul-wrapper").css("visibility","visible"),p.parents(".photoSwiper-container").find(".photo-img-control img").css("visibility","visible"),e.css(a)}},animate:function(t,e,i,n,r){var s=!1;o.isFunction(i)&&(n=i,i=null),o.isPlainObject(e)||t.removeAttr("style"),o.photoSwiper.stop(t),t.on(h,function(i){(!i||!i.originalEvent||t.is(i.originalEvent.target)&&"z-index"!=i.originalEvent.propertyName)&&(o.photoSwiper.stop(t),s&&o.photoSwiper.setTranslate(t,s),o.isPlainObject(e)?!1===r&&t.removeAttr("style"):!0!==r&&t.removeClass(e),o.isFunction(n)&&n(i))}),o.isNumeric(i)&&t.css("transition-duration",i+"ms"),o.isPlainObject(e)?(void 0!==e.scaleX&&void 0!==e.scaleY&&(s=o.extend({},e,{width:t.width()*e.scaleX,height:t.height()*e.scaleY,scaleX:1,scaleY:1}),delete e.width,delete e.height,t.parent().hasClass("photoSwiper-slide--image")&&t.parent().addClass("photoSwiper-is-scaling")),o.photoSwiper.setTranslate(t,e)):t.addClass(e),t.data("timer",setTimeout(function(){t.trigger("transitionend")},i+16))},stop:function(t){t&&t.length&&(clearTimeout(t.data("timer")),t.off("transitionend").css("transition-duration",""),t.parent().removeClass("photoSwiper-is-scaling"))}},o.fn.photoSwiper=function(t){var e;return t=t||{},e=t.selector||!1,e?o("body").off("click.fb-start",e).on("click.fb-start",e,{options:t},n):this.off("click.fb-start").on("click.fb-start",{items:this,options:t},n),this},a.on("click.fb-start","[data-photoSwiper]",n),a.on("click.fb-start","[data-photoSwiper-trigger]",function(t){n(t,{$target:o('[data-photoSwiper="'+o(t.currentTarget).attr("data-photoSwiper-trigger")+'"]').eq(o(t.currentTarget).attr("data-index")||0),$trigger:o(this)})})}}(window,document,window.jQuery||jQuery),function(t){"use strict";var e=function(e,o,i){if(e)return i=i||"","object"===t.type(i)&&(i=t.param(i,!0)),t.each(o,function(t,o){e=e.replace("$"+t,o||"")}),i.length&&(e+=(e.indexOf("?")>0?"&":"?")+i),e},o={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube.com/embed/$4",thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1,api:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/?ll="+(t[9]?t[9]+"&z="+Math.floor(t[10])+(t[12]?t[12].replace(/^\//,"&"):""):t[12]+"").replace(/\?/,"&")+"&output="+(t[12]&&t[12].indexOf("layer=c")>0?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/maps?q="+t[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}};t(document).on("objectNeedsType.fb",function(i,n,r){var s,a,p,l,c,h,d,u=r.src||"",f=!1;s=t.extend(!0,{},o,r.opts.media),t.each(s,function(o,i){if(p=u.match(i.matcher)){if(f=i.type,d=o,h={},i.paramPlace&&p[i.paramPlace]){c=p[i.paramPlace],"?"==c[0]&&(c=c.substring(1)),c=c.split("&");for(var n=0;n<c.length;++n){var s=c[n].split("=",2);2==s.length&&(h[s[0]]=decodeURIComponent(s[1].replace(/\+/g," ")))}}return l=t.extend(!0,{},i.params,r.opts[o],h),u="function"===t.type(i.url)?i.url.call(this,p,l,r):e(i.url,p,l),a="function"===t.type(i.thumb)?i.thumb.call(this,p,l,r):e(i.thumb,p),"youtube"===o?u=u.replace(/&t=((\d+)m)?(\d+)s/,function(t,e,o,i){return"&start="+((o?60*parseInt(o,10):0)+parseInt(i,10))}):"vimeo"===o&&(u=u.replace("&%23","#")),!1}}),f?(r.opts.thumb||r.opts.$thumb&&r.opts.$thumb.length||(r.opts.thumb=a),"iframe"===f&&(r.opts=t.extend(!0,r.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})),t.extend(r,{type:f,src:u,origSrc:r.src,contentSource:d,contentType:"image"===f?"image":"gmap_place"==d||"gmap_search"==d?"map":"video"})):u&&(r.type=r.opts.defaultType)})}(window.jQuery||jQuery),function(t,e,o){"use strict";var i=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)}}(),n=function(){return t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||function(e){t.clearTimeout(e)}}(),r=function(e){var o=[];e=e.originalEvent||e||t.e,e=e.touches&&e.touches.length?e.touches:e.changedTouches&&e.changedTouches.length?e.changedTouches:[e];for(var i in e)e[i].pageX?o.push({x:e[i].pageX,y:e[i].pageY}):e[i].clientX&&o.push({x:e[i].clientX,y:e[i].clientY});return o},s=function(t,e,o){return e&&t?"x"===o?t.x-e.x:"y"===o?t.y-e.y:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0},a=function(t){if(t.is('a,area,button,[role="button"],input,label,select,summary,textarea,video,audio')||o.isFunction(t.get(0).onclick)||t.data("selectable"))return!0;for(var e=0,i=t[0].attributes,n=i.length;e<n;e++)if("data-photoSwiper-"===i[e].nodeName.substr(0,14))return!0;return!1},p=function(e){var o=t.getComputedStyle(e)["overflow-y"],i=t.getComputedStyle(e)["overflow-x"],n=("scroll"===o||"auto"===o)&&e.scrollHeight>e.clientHeight,r=("scroll"===i||"auto"===i)&&e.scrollWidth>e.clientWidth;return n||r},l=function(t){for(var e=!1;;){if(e=p(t.get(0)))break;if(t=t.parent(),!t.length||t.hasClass("photoSwiper-stage")||t.is("body"))break}return e},c=function(t){var e=this;e.instance=t,e.$bg=t.$refs.bg,e.$stage=t.$refs.stage,e.$container=t.$refs.container,e.destroy(),e.$container.on("touchstart.fb.touch mousedown.fb.touch",o.proxy(e,"ontouchstart"))};c.prototype.destroy=function(){this.$container.off(".fb.touch")},c.prototype.ontouchstart=function(i){var n=this,p=o(i.target),c=n.instance,h=c.current,d=h.$content,u="touchstart"==i.type;if(u&&n.$container.off("mousedown.fb.touch"),(!i.originalEvent||2!=i.originalEvent.button)&&p.length&&!a(p)&&!a(p.parent())&&(p.is("img")||!(i.originalEvent.clientX>p[0].clientWidth+p.offset().left))){if(!h||c.isAnimating||c.isClosing)return i.stopPropagation(),void i.preventDefault();if(n.realPoints=n.startPoints=r(i),n.startPoints.length){if(i.stopPropagation(),n.startEvent=i,n.canTap=!0,n.$target=p,n.$content=d,n.opts=h.opts.touch,n.isPanning=!1,n.isSwiping=!1,n.isZooming=!1,n.isScrolling=!1,n.startTime=(new Date).getTime(),n.distanceX=n.distanceY=n.distance=0,n.canvasWidth=Math.round(h.$slide[0].clientWidth),n.canvasHeight=Math.round(h.$slide[0].clientHeight),n.contentLastPos=null,n.contentStartPos=o.photoSwiper.getTranslate(n.$content)||{top:0,left:0},n.sliderStartPos=n.sliderLastPos||o.photoSwiper.getTranslate(h.$slide),n.stagePos=o.photoSwiper.getTranslate(c.$refs.stage),n.sliderStartPos.top-=n.stagePos.top,n.sliderStartPos.left-=n.stagePos.left,n.contentStartPos.top-=n.stagePos.top,n.contentStartPos.left-=n.stagePos.left,o(e).off(".fb.touch").on(u?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",o.proxy(n,"ontouchend")).on(u?"touchmove.fb.touch":"mousemove.fb.touch",o.proxy(n,"ontouchmove")),o.photoSwiper.isMobile&&e.addEventListener("scroll",n.onscroll,!0),!n.opts&&!c.canPan()||!p.is(n.$stage)&&!n.$stage.find(p).length)return void(p.is(".photoSwiper-image")&&i.preventDefault());o.photoSwiper.isMobile&&(l(p)||l(p.parent()))||i.preventDefault(),(1===n.startPoints.length||h.hasError)&&(n.instance.canPan()?(o.photoSwiper.stop(n.$content),n.$content.css("transition-duration",""),n.isPanning=!0):n.isSwiping=!0,n.$container.addClass("photoSwiper-controls--isGrabbing")),2===n.startPoints.length&&"image"===h.type&&(h.isLoaded||h.$ghost)&&(n.canTap=!1,n.isSwiping=!1,n.isPanning=!1,n.isZooming=!0,o.photoSwiper.stop(n.$content),n.$content.css("transition-duration",""),n.centerPointStartX=.5*(n.startPoints[0].x+n.startPoints[1].x)-o(t).scrollLeft(),n.centerPointStartY=.5*(n.startPoints[0].y+n.startPoints[1].y)-o(t).scrollTop(),n.percentageOfImageAtPinchPointX=(n.centerPointStartX-n.contentStartPos.left)/n.contentStartPos.width,n.percentageOfImageAtPinchPointY=(n.centerPointStartY-n.contentStartPos.top)/n.contentStartPos.height,n.startDistanceBetweenFingers=s(n.startPoints[0],n.startPoints[1]))}}},c.prototype.onscroll=function(t){var o=this;o.isScrolling=!0,e.removeEventListener("scroll",o.onscroll,!0)},c.prototype.ontouchmove=function(t){var e=this,i=o(t.target);return void 0!==t.originalEvent.buttons&&0===t.originalEvent.buttons?void e.ontouchend(t):e.isScrolling||!i.is(e.$stage)&&!e.$stage.find(i).length?void(e.canTap=!1):(e.newPoints=r(t),void((e.opts||e.instance.canPan())&&e.newPoints.length&&e.newPoints.length&&(e.isSwiping&&!0===e.isSwiping||t.preventDefault(),e.distanceX=s(e.newPoints[0],e.startPoints[0],"x"),e.distanceY=s(e.newPoints[0],e.startPoints[0],"y"),e.distance=s(e.newPoints[0],e.startPoints[0]),e.distance>0&&(e.isSwiping?e.onSwipe(t):e.isPanning||e.isZooming&&e.onZoom()))))},c.prototype.onSwipe=function(e){var r,s=this,a=s.isSwiping,p=s.sliderStartPos.left||0;if(!0!==a)"x"==a&&(s.distanceX>0&&(s.instance.group.length<2||0===s.instance.current.index&&!s.instance.current.opts.loop)?p+=Math.pow(s.distanceX,.8):s.distanceX<0&&(s.instance.group.length<2||s.instance.current.index===s.instance.group.length-1&&!s.instance.current.opts.loop)?p-=Math.pow(-s.distanceX,.8):p+=s.distanceX),s.sliderLastPos={top:"x"==a?0:s.sliderStartPos.top+s.distanceY,left:p},s.requestId&&(n(s.requestId),s.requestId=null),s.requestId=i(function(){s.sliderLastPos&&(o.each(s.instance.slides,function(t,e){var i=e.pos-s.instance.currPos;o.photoSwiper.setTranslate(e.$slide,{top:s.sliderLastPos.top,left:s.sliderLastPos.left+i*s.canvasWidth+i*e.opts.gutter})}),s.$container.addClass("photoSwiper-is-sliding"))});else if(Math.abs(s.distance)>10){if(s.canTap=!1,s.instance.group.length<2&&s.opts.vertical?s.isSwiping="y":s.instance.isDragging||!1===s.opts.vertical||"auto"===s.opts.vertical&&o(t).width()>800?s.isSwiping="x":(r=Math.abs(180*Math.atan2(s.distanceY,s.distanceX)/Math.PI),s.isSwiping=r>45&&r<135?"y":"x"),s.canTap=!1,"y"===s.isSwiping&&o.photoSwiper.isMobile&&(l(s.$target)||l(s.$target.parent())))return void(s.isScrolling=!0);s.instance.isDragging=s.isSwiping,s.startPoints=s.newPoints,o.each(s.instance.slides,function(t,e){o.photoSwiper.stop(e.$slide),e.$slide.css("transition-duration",""),e.inTransition=!1,e.pos===s.instance.current.pos&&(s.sliderStartPos.left=o.photoSwiper.getTranslate(e.$slide).left-o.photoSwiper.getTranslate(s.instance.$refs.stage).left)}),s.instance.SlideShow&&s.instance.SlideShow.isActive&&s.instance.SlideShow.stop()}},c.prototype.onPan=function(){var t=this;if(s(t.newPoints[0],t.realPoints[0])<(o.photoSwiper.isMobile?10:5))return void(t.startPoints=t.newPoints);t.canTap=!1,t.contentLastPos=t.limitMovement(),t.requestId&&(n(t.requestId),t.requestId=null),t.requestId=i(function(){o.photoSwiper.setTranslate(t.$content,t.contentLastPos)})},c.prototype.limitMovement=function(){var t,e,o,i,n,r,s=this,a=s.canvasWidth,p=s.canvasHeight,l=s.distanceX,c=s.distanceY,h=s.contentStartPos,d=h.left,u=h.top,f=h.width,g=h.height;return n=f>a?d+l:d,r=u+c,t=Math.max(0,.5*a-.5*f),e=Math.max(0,.5*p-.5*g),o=Math.min(a-f,.5*a-.5*f),i=Math.min(p-g,.5*p-.5*g),l>0&&n>t&&(n=t-1+Math.pow(-t+d+l,.8)||0),l<0&&n<o&&(n=o+1-Math.pow(o-d-l,.8)||0),c>0&&r>e&&(r=e-1+Math.pow(-e+u+c,.8)||0),c<0&&r<i&&(r=i+1-Math.pow(i-u-c,.8)||0),{top:r,left:n}},c.prototype.limitPosition=function(t,e,o,i){var n=this,r=n.canvasWidth,s=n.canvasHeight;return o>r?(t=t>0?0:t,t=t<r-o?r-o:t):t=Math.max(0,r/2-o/2),i>s?(e=e>0?0:e,e=e<s-i?s-i:e):e=Math.max(0,s/2-i/2),{top:e,left:t}},c.prototype.onZoom=function(){var e=this,r=e.contentStartPos,a=r.width,p=r.height,l=r.left,c=r.top,h=s(e.newPoints[0],e.newPoints[1]),d=h/e.startDistanceBetweenFingers,u=Math.floor(a*d),f=Math.floor(p*d),g=(a-u)*e.percentageOfImageAtPinchPointX,w=(p-f)*e.percentageOfImageAtPinchPointY,m=(e.newPoints[0].x+e.newPoints[1].x)/2-o(t).scrollLeft(),S=(e.newPoints[0].y+e.newPoints[1].y)/2-o(t).scrollTop(),v=m-e.centerPointStartX,b=S-e.centerPointStartY,y=l+(g+v),$=c+(w+b),x={top:$,left:y,scaleX:d,scaleY:d};e.canTap=!1,e.newWidth=u,e.newHeight=f,e.contentLastPos=x,e.requestId&&(n(e.requestId),e.requestId=null),e.requestId=i(function(){o.photoSwiper.setTranslate(e.$content,e.contentLastPos)})},c.prototype.ontouchend=function(t){var i=this,s=Math.max((new Date).getTime()-i.startTime,1),a=i.isSwiping,p=i.isPanning,l=i.isZooming,c=i.isScrolling;if(i.endPoints=r(t),i.$container.removeClass("photoSwiper-controls--isGrabbing"),o(e).off(".fb.touch"),e.removeEventListener("scroll",i.onscroll,!0),i.requestId&&(n(i.requestId),i.requestId=null),i.isSwiping=!1,i.isPanning=!1,i.isZooming=!1,i.isScrolling=!1,i.instance.isDragging=!1,i.canTap)return i.onTap(t);i.speed=366,i.velocityX=i.distanceX/s*.5,i.velocityY=i.distanceY/s*.5,i.speedX=Math.max(.5*i.speed,Math.min(1.5*i.speed,1/Math.abs(i.velocityX)*i.speed)),p?i.endPanning():l?i.endZooming():i.endSwiping(a,c)},c.prototype.endSwiping=function(t,e){var i=this,n=!1,r=i.instance.group.length;i.sliderLastPos=null,"y"==t&&!e&&Math.abs(i.distanceY)>50?(o.photoSwiper.animate(i.instance.current.$slide,{top:i.sliderStartPos.top+i.distanceY+150*i.velocityY,opacity:0},200),n=i.instance.close(!0,200)):"x"==t&&i.distanceX>50&&r>1?n=i.instance.previous(i.speedX):"x"==t&&i.distanceX<-50&&r>1&&(n=i.instance.next(i.speedX)),!1!==n||"x"!=t&&"y"!=t||(e||r<2?i.instance.centerSlide(i.instance.current,150):i.instance.jumpTo(i.instance.current.index)),i.$container.removeClass("photoSwiper-is-sliding")},c.prototype.endPanning=function(){var t,e,i,n=this;n.contentLastPos&&(!1===n.opts.momentum?(t=n.contentLastPos.left,e=n.contentLastPos.top):(t=n.contentLastPos.left+n.velocityX*n.speed,e=n.contentLastPos.top+n.velocityY*n.speed),i=n.limitPosition(t,e,n.contentStartPos.width,n.contentStartPos.height),i.width=n.contentStartPos.width,i.height=n.contentStartPos.height,o.photoSwiper.animate(n.$content,i,330))},c.prototype.endZooming=function(){var t,e,i,n,r=this,s=r.instance.current,a=r.newWidth,p=r.newHeight;r.contentLastPos&&(t=r.contentLastPos.left,e=r.contentLastPos.top,n={top:e,left:t,width:a,height:p,scaleX:1,scaleY:1},o.photoSwiper.setTranslate(r.$content,n),a<r.canvasWidth&&p<r.canvasHeight?r.instance.scaleToFit(150):a>s.width||p>s.height?r.instance.scaleToActual(r.centerPointStartX,r.centerPointStartY,150):(i=r.limitPosition(t,e,a,p),o.photoSwiper.setTranslate(r.$content,o.photoSwiper.getTranslate(r.$content)),o.photoSwiper.animate(r.$content,i,150)))},c.prototype.onTap=function(e){var i,n=this,s=o(e.target),a=n.instance,p=a.current,l=e&&r(e)||n.startPoints,c=l[0]?l[0].x-o(t).scrollLeft()-n.stagePos.left:0,h=l[0]?l[0].y-o(t).scrollTop()-n.stagePos.top:0,d=function(t){var i=p.opts[t];if(o.isFunction(i)&&(i=i.apply(a,[p,e])),i)switch(i){case"close":a.close(n.startEvent);break;case"toggleControls":a.toggleControls(!0);break;case"next":a.next();break;case"nextOrClose":a.group.length>1?a.next():a.close(n.startEvent);break;case"zoom":"image"==p.type&&(p.isLoaded||p.$ghost)&&(a.canPan()?a.scaleToFit():a.isScaledDown()?a.scaleToActual(c,h):a.group.length<2&&a.close(n.startEvent))}};if((!e.originalEvent||2!=e.originalEvent.button)&&(s.is("img")||!(c>s[0].clientWidth+s.offset().left))){if(s.is(".photoSwiper-bg,.photoSwiper-inner,.photoSwiper-outer,.photoSwiper-container"))i="Outside";else if(s.is(".photoSwiper-slide"))i="Slide";else{if(!a.current.$content||!a.current.$content.find(s).addBack().filter(s).length)return;i="Content"}if(n.tapped){if(clearTimeout(n.tapped),n.tapped=null,Math.abs(c-n.tapX)>50||Math.abs(h-n.tapY)>50)return this;d("dblclick"+i)}else n.tapX=c,n.tapY=h,p.opts["dblclick"+i]&&p.opts["dblclick"+i]!==p.opts["click"+i]?n.tapped=setTimeout(function(){n.tapped=null,d("click"+i)},500):d("click"+i);return this}},o(e).on("onActivate.fb",function(t,e){e&&!e.Guestures&&(e.Guestures=new c(e))})}(window,document,window.jQuery||jQuery),function(t,e){"use strict";e.extend(!0,e.photoSwiper.defaults,{btnTpl:{slideShow:'<button data-photoSwiper-play class="photoSwiper-button photoSwiper-button--play" title="{{PLAY_START}}"><svg viewBox="0 0 40 40"><path d="M13,12 L27,20 L13,27 Z" /><path d="M15,10 v19 M23,10 v19" /></svg></button>'},slideShow:{autoStart:!1,speed:3e3}});var o=function(t){this.instance=t,this.init()};e.extend(o.prototype,{timer:null,isActive:!1,$button:null,init:function(){var t=this;t.$button=t.instance.$refs.toolbar.find("[data-photoSwiper-play]").on("click",function(){t.toggle()}),(t.instance.group.length<2||!t.instance.group[t.instance.currIndex].opts.slideShow)&&t.$button.hide()},set:function(t){var e=this
;e.instance&&e.instance.current&&(!0===t||e.instance.current.opts.loop||e.instance.currIndex<e.instance.group.length-1)?e.timer=setTimeout(function(){e.isActive&&e.instance.jumpTo((e.instance.currIndex+1)%e.instance.group.length)},e.instance.current.opts.slideShow.speed):(e.stop(),e.instance.idleSecondsCounter=0,e.instance.showControls())},clear:function(){var t=this;clearTimeout(t.timer),t.timer=null},start:function(){var t=this,e=t.instance.current;e&&(t.isActive=!0,t.$button.attr("title",e.opts.i18n[e.opts.lang].PLAY_STOP).removeClass("photoSwiper-button--play").addClass("photoSwiper-button--pause"),t.set(!0))},stop:function(){var t=this,e=t.instance.current;t.clear(),t.$button.attr("title",e.opts.i18n[e.opts.lang].PLAY_START).removeClass("photoSwiper-button--pause").addClass("photoSwiper-button--play"),t.isActive=!1},toggle:function(){var t=this;t.isActive?t.stop():t.start()}}),e(t).on({"onInit.fb":function(t,e){e&&!e.SlideShow&&(e.SlideShow=new o(e))},"beforeShow.fb":function(t,e,o,i){var n=e&&e.SlideShow;i?n&&o.opts.slideShow.autoStart&&n.start():n&&n.isActive&&n.clear()},"afterShow.fb":function(t,e,o){var i=e&&e.SlideShow;i&&i.isActive&&i.set()},"afterKeydown.fb":function(o,i,n,r,s){var a=i&&i.SlideShow;!a||!n.opts.slideShow||80!==s&&32!==s||e(t.activeElement).is("button,a,input")||(r.preventDefault(),a.toggle())},"beforeClose.fb onDeactivate.fb":function(t,e){var o=e&&e.SlideShow;o&&o.stop()}}),e(t).on("visibilitychange",function(){var o=e.photoSwiper.getInstance(),i=o&&o.SlideShow;i&&i.isActive&&(t.hidden?i.clear():i.set())})}(document,window.jQuery||jQuery),function(t,e){"use strict";var o=function(){for(var e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],o={},i=0;i<e.length;i++){var n=e[i];if(n&&n[1]in t){for(var r=0;r<n.length;r++)o[e[0][r]]=n[r];return o}}return!1}();if(!o)return void(e&&e.photoSwiper&&(e.photoSwiper.defaults.btnTpl.fullScreen=!1));var i={request:function(e){e=e||t.documentElement,e[o.requestFullscreen](e.ALLOW_KEYBOARD_INPUT)},exit:function(){t[o.exitFullscreen]()},toggle:function(e){e=e||t.documentElement,this.isFullscreen()?this.exit():this.request(e)},isFullscreen:function(){return Boolean(t[o.fullscreenElement])},enabled:function(){return Boolean(t[o.fullscreenEnabled])}};e.extend(!0,e.photoSwiper.defaults,{btnTpl:{fullScreen:'<button data-photoSwiper-fullscreen class="photoSwiper-button photoSwiper-button--fullscreen" title="{{FULL_SCREEN}}"><svg viewBox="0 0 40 40"><path d="M9,12 v16 h22 v-16 h-22 v8" /></svg></button>'},fullScreen:{autoStart:!1}}),e(t).on({"onInit.fb":function(t,e){var o;e&&e.group[e.currIndex].opts.fullScreen?(o=e.$refs.container,o.on("click.fb-fullscreen","[data-photoSwiper-fullscreen]",function(t){t.stopPropagation(),t.preventDefault(),i.toggle()}),e.opts.fullScreen&&!0===e.opts.fullScreen.autoStart&&i.request(),e.FullScreen=i):e&&e.$refs.toolbar.find("[data-photoSwiper-fullscreen]").hide()},"afterKeydown.fb":function(t,e,o,i,n){e&&e.FullScreen&&70===n&&(i.preventDefault(),e.FullScreen.toggle())},"beforeClose.fb":function(t,e){e&&e.FullScreen&&e.$refs.container.hasClass("photoSwiper-is-fullscreen")&&i.exit()}}),e(t).on(o.fullscreenchange,function(){var t=i.isFullscreen(),o=e.photoSwiper.getInstance();o&&(o.current&&"image"===o.current.type&&o.isAnimating&&(o.current.$content.css("transition","none"),o.isAnimating=!1,o.update(!0,!0,0)),o.trigger("onFullscreenChange",t),o.$refs.container.toggleClass("photoSwiper-is-fullscreen",t))})}(document,window.jQuery||jQuery),function(t,e){"use strict";var o="photoSwiper-thumbs";e.photoSwiper.defaults=e.extend(!0,{btnTpl:{thumbs:'<button data-photoSwiper-thumbs class="photoSwiper-button photoSwiper-button--thumbs" title="{{THUMBS}}"><svg viewBox="0 0 120 120"><path d="M30,30 h14 v14 h-14 Z M50,30 h14 v14 h-14 Z M70,30 h14 v14 h-14 Z M30,50 h14 v14 h-14 Z M50,50 h14 v14 h-14 Z M70,50 h14 v14 h-14 Z M30,70 h14 v14 h-14 Z M50,70 h14 v14 h-14 Z M70,70 h14 v14 h-14 Z" /></svg></button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".photoSwiper-container",axis:"y"}},e.photoSwiper.defaults);var i=function(t){this.init(t)};e.extend(i.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(t){var e,o,i=this;i.instance=t,t.Thumbs=i,i.opts=t.group[t.currIndex].opts.thumbs,e=t.group[0],e=e.opts.thumb||!(!e.opts.$thumb||!e.opts.$thumb.length)&&e.opts.$thumb.attr("src"),t.group.length>1&&(o=t.group[1],o=o.opts.thumb||!(!o.opts.$thumb||!o.opts.$thumb.length)&&o.opts.$thumb.attr("src")),i.$button=t.$refs.toolbar.find("[data-photoSwiper-thumbs]"),i.opts&&e&&o&&e&&o?(i.$button.show().on("click",function(){i.toggle()}),i.isActive=!0):i.$button.hide()},create:function(){var t,i=this,n=i.instance,r=i.opts.parentEl,s=[];i.$grid||(i.$grid=e('<div class="'+o+" "+o+"-"+i.opts.axis+'"></div>').appendTo(n.$refs.container.find(r).addBack().filter(r)),i.$grid.wrap("<div class='photoSwiper-thumbs-ul-wrapper'></div>"),i.$grid.parent(".photoSwiper-thumbs-ul-wrapper").on("click","li",function(){n.jumpTo(e(this).attr("data-index"))})),i.$list||(i.$list=e("<ul>").appendTo(i.$grid)),i.$grid.parent(".photoSwiper-thumbs-ul-wrapper").prepend(e("<div class='photoSwiper-thumbs-left'></div>")),i.$grid.parent(".photoSwiper-thumbs-ul-wrapper").append(e("<div class='photoSwiper-thumbs-right'></div>")),i.$grid.parent(".photoSwiper-thumbs-ul-wrapper").on("click",".photoSwiper-thumbs-left",function(){n.jumpTo(e(this).parent(".photoSwiper-thumbs-ul-wrapper").find("li.photoSwiper-thumbs-active").attr("data-index")-5)}),i.$grid.parent(".photoSwiper-thumbs-ul-wrapper").on("click",".photoSwiper-thumbs-right",function(){n.jumpTo(e(this).parent(".photoSwiper-thumbs-ul-wrapper").find("li.photoSwiper-thumbs-active").attr("data-index")-0+5)}),e.each(n.group,function(e,o){t=o.opts.thumb||(o.opts.$thumb?o.opts.$thumb.attr("src"):null),t||"image"!==o.type||(t=o.src),s.push('<li data-index="'+e+'" tabindex="0" class="photoSwiper-thumbs-loading"'+(t&&t.length?' style="background-image:url('+t+')" />':"")+"></li>")}),i.$list[0].innerHTML=s.join(""),"x"===i.opts.axis&&i.$list.width(parseInt(i.$grid.css("padding-right"),10)+n.group.length*i.$list.children().eq(0).outerWidth(!0))},focus:function(t){var e,o,i=this,n=i.$list,r=i.$grid;i.instance.current&&(e=n.children().removeClass("photoSwiper-thumbs-active").filter('[data-index="'+i.instance.current.index+'"]').addClass("photoSwiper-thumbs-active"),o=e.position(),"y"===i.opts.axis&&(o.top<0||o.top>n.height()-e.outerHeight())?n.stop().animate({scrollTop:n.scrollTop()+o.top},t):"x"===i.opts.axis&&(o.left<r.scrollLeft()||o.left>r.scrollLeft()+(r.width()-e.outerWidth()))&&n.parent().stop().animate({scrollLeft:o.left},t))},update:function(){var t=this;t.instance.$refs.container.toggleClass("photoSwiper-show-thumbs",this.isVisible),t.isVisible?(t.$grid||t.create(),t.instance.trigger("onThumbsShow"),t.focus(0)):t.$grid&&t.instance.trigger("onThumbsHide"),t.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),e(t).on({"onInit.fb":function(t,e){var o;e&&!e.Thumbs&&(o=new i(e),o.isActive&&!0===o.opts.autoStart&&o.show())},"beforeShow.fb":function(t,e,o,i){var n=e&&e.Thumbs;n&&n.isVisible&&n.focus(i?0:250)},"afterKeydown.fb":function(t,e,o,i,n){var r=e&&e.Thumbs;r&&r.isActive&&71===n&&(i.preventDefault(),r.toggle())},"beforeClose.fb":function(t,e){var o=e&&e.Thumbs;o&&o.isVisible&&!1!==o.opts.hideOnClose&&o.$grid.hide()}})}(document,window.jQuery||jQuery),function(t,e,o){"use strict";function i(){var t=e.location.hash.substr(1),o=t.split("-"),i=o.length>1&&/^\+?\d+$/.test(o[o.length-1])?parseInt(o.pop(-1),10)||1:1,n=o.join("-");return{hash:t,index:i<1?1:i,gallery:n}}function n(t){""!==t.gallery&&o("[data-photoSwiper='"+o.escapeSelector(t.gallery)+"']").eq(t.index-1).trigger("click.fb-start")}function r(t){var e,o;return!!t&&(e=t.current?t.current.opts:t.opts,""!==(o=e.hash||(e.$orig?e.$orig.data("photoSwiper"):""))&&o)}o.escapeSelector||(o.escapeSelector=function(t){return(t+"").replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t})}),o(function(){!1!==o.photoSwiper.defaults.hash&&(o(t).on({"onInit.fb":function(t,e){var o,n;!1!==e.group[e.currIndex].opts.hash&&(o=i(),(n=r(e))&&o.gallery&&n==o.gallery&&(e.currIndex=o.index-1))},"beforeShow.fb":function(o,i,n,s){var a;n&&!1!==n.opts.hash&&(a=r(i))&&(i.currentHash=a+(i.group.length>1?"-"+(n.index+1):""),e.location.hash!=="#"+i.currentHash&&(i.origHash||(i.origHash=e.location.hash),i.hashTimer&&clearTimeout(i.hashTimer),i.hashTimer=setTimeout(function(){"replaceState"in e.history?(e.history[s?"pushState":"replaceState"]({},t.title,e.location.pathname+e.location.search+"#"+i.currentHash),s&&(i.hasCreatedHistory=!0)):e.location.hash=i.currentHash,i.hashTimer=null},300)))},"beforeClose.fb":function(o,i,n){!1!==n.opts.hash&&(r(i),i.currentHash&&i.hasCreatedHistory?e.history.back():i.currentHash&&("replaceState"in e.history?e.history.replaceState({},t.title,e.location.pathname+e.location.search+(i.origHash||"")):e.location.hash=i.origHash),i.currentHash=null,clearTimeout(i.hashTimer))}}),o(e).on("hashchange.fb",function(){var t,e=i();o.each(o(".photoSwiper-container").get().reverse(),function(e,i){var n=o(i).data("FancyBox");if(n.currentHash)return t=n,!1}),t?!t.currentHash||t.currentHash===e.gallery+"-"+e.index||1===e.index&&t.currentHash==e.gallery||(t.currentHash=null,t.close()):""!==e.gallery&&n(e)}),setTimeout(function(){o.photoSwiper.getInstance()||n(i())},50))})}(document,window,window.jQuery||jQuery),function(t,e){"use strict";var o=(new Date).getTime();e(t).on({"afterShow.fb":function(t,i,n){i.$refs.stage.find(".photoSwiper-content").on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(t){var n=i.current,r=(new Date).getTime();!1===n.opts.wheel||"auto"===n.opts.wheel&&"image"!==n.type||(t.preventDefault(),t.stopPropagation(),n.$slide.hasClass("photoSwiper-animated")||(t=t.originalEvent||t,r-o<10||(o=r,i[(-t.deltaY||-t.deltaX||t.wheelDelta||-t.detail)<0?"reduce":"enlarge"](e(".photoSwiper-slide--current .photoSwiper-content-operator")))))}),i.$refs.stage.find(".photoSwiper-content").on("dblclick",function(t){e(this).parent().find(".photoSwiper-myFullScreen").trigger("click")})}})}(document,window.jQuery||jQuery);